<div id="shopify-block-1868344454708136311" class="shopify-block shopify-app-block">
<script type="lazyload_int">
  console.log("---Call For Price App---");

  if (typeof cfp_sb_variable !== 'undefined') {
    if (cfp_sb_variable == '1') {
      var curr_hundle_pid = ``;
      var payment_status = `active`;
      var is_payment_enable = '0';

      // global variable
      var phone_form_field_call = cfp_configuration.phone_form_field_call;
      var callforprice_label_call_button = cfp_configuration.callforprice_label_call_button;
      var product_handle_sb = ``;
      var curr_title_detailpge = ``;
      var product_url = ``;
      var collection_handle_sb = "";
      var collection_id = ``;
      var curr_hundle_pid = ``;
      var form_button_display_option = cfp_configuration.form_button_display_option; //show_cfp_button
      var btn_name = cfp_configuration.callforprice_label;
      var btn_whatsapp = cfp_configuration.callforpriceWhatsapp_label;
      var whatsappNumber = cfp_configuration.phone_form_field_whatsapp;
      var request_type = 'E-mail';
      var cfpwhatsapp = '';
      if (form_button_display_option == 'show_cfp_whatsapp') {
        btn_name = `<svg xmlns="http://www.w3.org/2000/svg" id="Capa_1" width="16" height="16" fill="currentColor" class="bi bi-whatsapp" viewBox="0 0 16 16"> <path d="M13.601 2.326A7.854 7.854 0 0 0 7.994 0C3.627 0 .068 3.558.064 7.926c0 1.399.366 2.76 1.057 3.965L0 16l4.204-1.102a7.933 7.933 0 0 0 3.79.965h.004c4.368 0 7.926-3.558 7.93-7.93A7.898 7.898 0 0 0 13.6 2.326zM7.994 14.521a6.573 6.573 0 0 1-3.356-.92l-.24-.144-2.494.654.666-2.433-.156-.251a6.56 6.56 0 0 1-1.007-3.505c0-3.626 2.957-6.584 6.591-6.584a6.56 6.56 0 0 1 4.66 1.931 6.557 6.557 0 0 1 1.928 4.66c-.004 3.639-2.961 6.592-6.592 6.592zm3.615-4.934c-.197-.099-1.17-.578-1.353-.646-.182-.065-.315-.099-.445.099-.133.197-.513.646-.627.775-.114.133-.232.148-.43.05-.197-.1-.836-.308-1.592-.985-.59-.525-.985-1.175-1.103-1.372-.114-.198-.011-.304.088-.403.087-.088.197-.232.296-.346.1-.114.133-.198.198-.33.065-.134.034-.248-.015-.347-.05-.099-.445-1.076-.612-1.47-.16-.389-.323-.335-.445-.34-.114-.007-.247-.007-.38-.007a.729.729 0 0 0-.529.247c-.182.198-.691.677-.691 1.654 0 .977.71 1.916.81 2.049.098.133 1.394 2.132 3.383 2.992.47.205.84.326 1.129.418.475.152.904.129 1.246.08.38-.058 1.171-.48 1.338-.943.164-.464.164-.86.114-.943-.049-.084-.182-.133-.38-.232z"/> </svg>` + btn_whatsapp;
        request_type = 'WhatsApp'; cfpwhatsapp = 'cfp-whatsapp';
      } else {
        btn_name = `<svg width="24" height="24" class="email_icon_svg" style="fill: #fff;" xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" clip-rule="evenodd"><path d="M24 21h-24v-18h24v18zm-23-16.477v15.477h22v-15.477l-10.999 10-11.001-10zm21.089-.523h-20.176l10.088 9.171 10.088-9.171z"/></svg>` + btn_name;
      }
      var hidePriceList_cfp = cfp_configuration.hidePriceList;
      var collection_name = ``;
      translate_fields = cfp_configuration.translate_fields;
      var name_vald = translate_fields.name_vald
      var email_blank_vald = translate_fields.email_blank_vald
      var email_invalid_vald = translate_fields.email_invalid_vald
      var message_vald = translate_fields.message_vald
      var phone_blank_vald = translate_fields.phone_blank_vald
      var servings_vald = ``
      var date_vald = ``
      var phone_cc_vald = translate_fields.phone_cc_vald
      var country_vald = translate_fields.country_vald
      var success_message = cfp_configuration.form_success_message
      var variant_blank_vald = translate_fields.variant_form_field_msg
      var image_vald = translate_fields.image_vald
      var variants_enable = cfp_configuration.variants_enable;
      var country_enable = cfp_configuration.country_enable;
      var is_redirect = cfp_configuration.is_redirect;
      var redirect_page = cfp_configuration.redirect_url;
      var required_form_fields = cfp_configuration.required_form_fields;
      var phone_countrycode_required = cfp_configuration.phone_countrycode_form_field_switch_required;
      var phone_countrycode_show = cfp_configuration.phone_countrycode_form_field_switch;
      // form fields 
      var form_title = cfp_configuration.title;
      var submit_btn_name = cfp_configuration.submit;
      var form_theme = cfp_configuration.form_theme;
      var gdpr_msg = cfp_configuration.gdpr_msg;
      var save_customer = cfp_configuration.save_customer;
      var form_fields = cfp_configuration.show_form_fields;
      var email = cfp_configuration.email;
      var pay_status = cfp_configuration.pay_status
      var plan_name = cfp_configuration.plan_name
      var mail_chimp_enable = cfp_configuration.mail_chimp_enable
      var shop = Shopify.shop;
      var is_all_products = cfp_configuration.is_all_products;
      if (is_all_products == '') { is_all_products = 0; }
      var hidePriceList = cfp_configuration.hidePriceList
      var enable = cfp_configuration.is_enabled;
      var sender_email = cfp_configuration.email;
      var cfp_btn_customize_for = cfp_configuration.cfp_btn_customize_for;
      var cfp_text_colorValue = cfp_configuration.cfp_text_colorValue;
      var cfp_bg_colorValue = cfp_configuration.cfp_bg_colorValue;
      var cfp_text_hvr_colorValue = cfp_configuration.cfp_text_hvr_colorValue;
      var cfp_bg_hvr_colorValue = cfp_configuration.cfp_bg_hvr_colorValue;
      var prod_ID_arr, prod_array, col_ID_arr, col_array, prod_array_url = [];
      var cfp_current_collection_list_prodPage = `temp`;
      var collectionLabelClass = 'cfp-checked';
      var product_id_sb = curr_hundle_pid;
      var colAllresults = filterConvertArray(ProIDsCollections);
      var colIDSresults = cfp_product_collection_Data['collections']
      var prodAllresults = cfp_product_collection_Data['products']

      if (typeof timeDelay == 'undefined') timeDelay = 0;  //for settimeout method
      if (typeof additional_hide_element == 'undefined') additional_hide_element = "";  //for hiding complex theme element
      if (typeof hide_cfp_modal_sec == 'undefined') hide_cfp_modal_sec = 3000;
      if (typeof cfp_additional_field == 'undefined') {
        var cfp_additional_field = ``;
      } else {
        var cfp_additional_field = cfp_additional_field;
      }
      if (typeof (cfp_configuration.phone_default_country_code) !== 'undefined') { var phone_default_country_code = '+' + cfp_configuration.phone_default_country_code; } else { var phone_default_country_code = ''; }

      function filterConvertArray(arr) {
        var processArray = arr.replace(/(\r\n|\n|\r)/gm, "");
        processArray = processArray.replace(/ /g, '');
        processArray = processArray.split(',');
        const arrResults = processArray.filter(element => {
          return element !== "";
        });
        return arrResults;
      }

      var loadScript = function (url, callback) {
        var script = document.createElement('script');
        script.type = 'text/javascript';
        if (script.readyState) {
          script.onreadystatechange = function () {
            if (script.readyState == 'loaded' || script.readyState == 'complete') {
              script.onreadystatechange = null;
              callback();
            }
          };
        } else {
          script.onload = function () {
            callback();
          };
        }
        script.src = url;
        document.getElementsByTagName('head')[0].appendChild(script);
      };

      if (payment_status == 'active' || payment_status == 'trial' || payment_status == 'allow_store') {
        is_payment_enable = '1';
        if ((typeof jQuery === 'undefined') || (parseFloat(jQuery.fn.jquery) < 1.7)) {
          loadScript('//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js', function () {
            jQuery191 = jQuery.noConflict(true);
            myAppJavaScript_cfp(jQuery191);
            loadEventForm(jQuery191);
            functionForFilter(jQuery191)
          });
        } else {
          myAppJavaScript_cfp(jQuery);
          loadEventForm(jQuery);
          functionForFilter(jQuery)
        }
      }

  

      function myAppJavaScript_cfp($) {

        if (enable == "1" && is_payment_enable == "1") {
          $('body').append(`<style>.cfp-prod-handle, .cfp-prod-url, .cfp-prod-title , .cfp-prod-id{display:none; } #Capa_1{width: 30px;height: 30px;margin-right: 10px;fill: #fff;transition:0.5s!important; } .cfp_call_button{    text-decoration: none;    color: inherit;}.cfp_call_button button{display:flex!important;justify-content:center!important;align-items:center!important;flex-direction:row!important;}.cfp-prod-button-call button:after {    content: none;}  button.btn.Button.Button--primary.button.button--primary:after {    content: none;} .cfp-whatsapp{display: flex!important; justify-content: center; align-items: center!important;} @media screen and (max-width: 450px) { .cfp-whatsapp{padding: 0 5px 0 5px;display: flex!important;font-size: 12px;justify-content: space-evenly;} #Capa_1{width: 20px;height: 20px;margin-right: 0!important;fill: #fff;}}.call-for-price-btn{transition: 0.5s!important;display:flex!important;justify-content:center!important;align-items:center!important;flex-direction:row!important;z-index: 1!important;}.feather-phone-call{fill: ffffff!important;} </style>`);
          setTimeout(function () {
            CFPcheckForProductPage();
            CFPcheckForCollectionPage();
            // // cfp buttob_customization
            if ((cfp_btn_customize_for !== "") && (cfp_btn_customize_for !== "undefined")) {
              $('body').append(`<style>div a:after {content: none;} a:after{content:none;}.card__heading a:after{content:none;}.card-wrapper .full-unstyled-link:after{content:none;}</style>`);
              $("body").append("<style>.call-for-price-btn:hover{background-color: " + cfp_bg_hvr_colorValue + "!important;color: " + cfp_text_hvr_colorValue + "!important}.call-for-price-btn:hover .email_icon_svg{fill: " + cfp_text_hvr_colorValue + "!important;transition: 0.5s!important;}.cfp-prod-button-call button:hover .feather-phone-call{fill: " + cfp_text_hvr_colorValue + "!important;transition: 0.5s!important;}.cfp-prod-button-call button:hover{background-color: " + cfp_bg_hvr_colorValue + "!important;color: " + cfp_text_hvr_colorValue + "!important;}.cfp-prod-button-call button{background-color: " + cfp_bg_colorValue + "!important;color: " + cfp_text_colorValue + "!important;display:flex;flex-direction:row;align-items:center;transition:0.5s!important} .feather-phone-call{margin: 0 0 0 0!important;fill: " + cfp_text_colorValue + "!important;transition:0.5s!important} .call-for-price-btn{background-color: " + cfp_bg_colorValue + "!important;color: " + cfp_text_colorValue + "!important;display:flex;flex-direction:row;align-items:center;}.email_icon_svg{fill: " + cfp_text_colorValue + "!important;margin: 0 8px 2px 0!important;}#Capa_1{fill: " + cfp_text_colorValue + "!important;}.call-for-price-btn:hover #Capa_1{fill: " + cfp_text_hvr_colorValue + "!important;transition: 0.5s!important;}</style>")
            } else {
              $("body").append("<style>.feather-phone-call{margin: 0 10px 0 0!important; fill: #fff!important} .email_icon_svg{fill: #fff!important;margin: 0 8px 2px 0!important;}</style>")
            }
            // loadEventForm();
            // cfpForm();
          }, timeDelay)
        }
        // CFP detailpage Form
        function CFPcheckForCollectionPage() {
          if ($(".cfp_custom_position").length > 0) {
            // console.log('cfp-custom-position');
            $(".cfp_custom_position").each(function () {
              if (!$(this).hasClass('cfp-checked')) {
                var curr_this = $(this);
                var product_handle = $(this).attr('product_handle');
                var product_url = "/products/" + product_handle;
                try {
                  fetch(product_url + ".json", {
                    credentials: "same-origin"
                  }).then(function (data) {
                    data.json().then(function (data) {
                      var get_product = data.product;
                      var cfp_product_on = false;
                      if (cfp_product_on != true) {
                        for (collection_ID of colIDSresults) {
                          if (collection_ID.replace(/ /g, '') == collection_id) {
                            cfp_product_on = true;
                          }
                        }
                      }
                      if (is_all_products == "1" && cfp_product_on != true) { cfp_product_on = true; /*console.log('all pro match ', cfp_product_on); */ }
                      if (prodAllresults.includes(get_product.id.toString()) || colAllresults.includes(get_product.id.toString()) && cfp_product_on != true) {
                        cfp_product_on = true;
                      }
                      if (cfp_product_on != true) {
                        $.each(ProIDsCollectionsTest, function (key, value) {
                          if (value.includes(get_product.id.toString())) {
                            var colid = key.split('_')[0]
                            cfp_product_on = true;
                          }
                        })
                      }
                      var collection_id_liquid = $(curr_this).attr('collection-id');
                      if (typeof collection_id_liquid != 'undefined') {
                        collection_id_liquid = filterConvertArray(collection_id_liquid)
                        if (cfp_product_on != true) {
                          for (collection_ID of colIDSresults) {
                            if ($.inArray(collection_ID.replace(/ /g, ''), collection_id_liquid) != -1) {
                              cfp_product_on = true;
                            }
                          }
                        }
                      }

                      if (enable == "1" && cfp_product_on) {
                        var current_object = '';
                        var isButtonPositionFound = true;
                        current_object = appendCFPButtonCollection(curr_this);
                        if (form_button_display_option == 'show_cfp_button') {
                          var cfpButtonCollection =
                            '<div class="cfp-prod-wrapper ' + get_product.handle + '" data-handle="' + collection_handle_sb + '" data-coll-id="' + collection_id + '">' +
                            '<div class="cfp-prod-button-call">' +
                            '<a class="cfp_call_button" target="_parent" href="tel:+' + phone_form_field_call + '"><button type="button" class="btn Button Button--primary button btn-primary button--primary"><svg width="24" height="24" class="feather-phone-call" xmlns="http://www.w3.org/2000/svg"><path d="M8.26 1.289l-1.564.772c-5.793 3.02 2.798 20.944 9.31 20.944.46 0 .904-.094 1.317-.284l1.542-.755-2.898-5.594-1.54.754c-.181.087-.384.134-.597.134-2.561 0-6.841-8.204-4.241-9.596l1.546-.763-2.875-5.612zm7.746 22.711c-5.68 0-12.221-11.114-12.221-17.832 0-2.419.833-4.146 2.457-4.992l2.382-1.176 3.857 7.347-2.437 1.201c-1.439.772 2.409 8.424 3.956 7.68l2.399-1.179 3.816 7.36s-2.36 1.162-2.476 1.215c-.547.251-1.129.376-1.733.376"/></svg>' + callforprice_label_call_button + '</button></a>' +
                            '</div>' +
                            '</div>';
                        } else {
                          var cfpButtonCollection =
                            '<div class="cfp-prod-wrapper ' + get_product.handle + ' ' + form_button_display_option + '" data-handle="' + collection_handle_sb + '" data-coll-id="' + collection_id + '">' +
                            '<div class="cfp-prod-url">/products/' + get_product.handle + '</div>' +
                            '<div class="cfp-prod-id">' + get_product.id + '</div>' +
                            '<div class="cfp-prod-title">' + get_product.title + '</div>' +
                            '<div class="cfp-prod-handle">' + get_product.handle + '</div>' +
                            '<div class="cfp-prod-button">' +
                            '<button type="button" class="btn Button Button--primary button btn-primary button--primary call-for-price-btn ' + cfpwhatsapp + '">' + btn_name + '</button>' +
                            '</div>' +
                            '</div>';
                        }
                        if (current_object != '') {
                          if (!$(curr_this).hasClass(collectionLabelClass)) {
                            if ($('.cfp-prod-wrapper.' + get_product.handle).length > 0 || current_object.parent().parent().parent().find('.cfp-prod-wrapper-detail').length > 0) {
                              if ($('.cfp-prod-wrapper.' + get_product.handle).parent().parent().parent().find('.cfp-prod-wrapper.' + get_product.handle).length > 0 || current_object.parent().parent().parent().find('.cfp-prod-wrapper-detail').length > 0) {
                                $(".cfp_custom_position." + product_handle).html(cfpButtonCollection);
                              } else {
                                $(".cfp_custom_position." + product_handle).html(cfpButtonCollection);
                              }
                            } else {
                              $(".cfp_custom_position." + product_handle).html(cfpButtonCollection);
                            }
                            current_object.remove();
                            hideAddToCartOnCollection($(curr_this));
                            $(curr_this).addClass(collectionLabelClass);
                          }
                        }
                      }
                    })
                  })
                } catch (e) { }
              }
            })
          } else {
            $("a").each(function () {
              var curr_this = $(this);
              var curr_href = curr_this.attr("href");
              var imgg = $(curr_this).closest('div').find('img').first();
              if (typeof curr_href !== 'undefined') {
                if (curr_href.indexOf("products/") >= 1 && $(this).parent().get(0).tagName != 'LI' && !$(this).hasClass('doNotAdd_cfp')) {
                  curr_href = curr_href.split("?")[0];
                  fetch(curr_href + ".json", {
                    credentials: "same-origin"
                  }).then(function (data) {
                    data.json().then(function (data) {
                      var get_product = data.product;
                      var cfp_product_on = false;

                      //check for collection
                      if (cfp_product_on != true) {
                        for (collection_ID of colIDSresults) {
                          //console.log('collection_id',collection_id)
                          if (collection_ID.replace(/ /g, '') == collection_id) {
                            cfp_product_on = true;
                          }
                        }
                      }

                      //check all products
                      if (is_all_products == "1" && cfp_product_on != true) { cfp_product_on = true; /*console.log('all pro match ', cfp_product_on); */ }

                      //check specific products
                      if (prodAllresults.includes(get_product.id.toString()) || colAllresults.includes(get_product.id.toString()) && cfp_product_on != true) {
                        cfp_product_on = true;
                      }

                      // check products in collections
                      if (cfp_product_on != true) {
                        $.each(ProIDsCollectionsTest, function (key, value) {
                          // console.log(key+":"+value,typeof(value),get_product.id.toString());
                          if (value.includes(get_product.id.toString())) {
                            var colid = key.split('_')[0]
                            // console.log('match---->',colid);
                            cfp_product_on = true;
                          }
                        })
                      }
                      //check for all collection with theme attr
                      var collection_id_liquid = $(curr_this).attr('collection-id');
                      if (typeof collection_id_liquid != 'undefined') {
                        collection_id_liquid = filterConvertArray(collection_id_liquid)
                        if (cfp_product_on != true) {
                          //console.log('new')
                          for (collection_ID of colIDSresults) {
                            if ($.inArray(collection_ID.replace(/ /g, ''), collection_id_liquid) != -1) {
                              cfp_product_on = true;
                            }
                          }
                        }
                      }
                      if (enable == "1" && cfp_product_on) {
                        var current_object = '';
                        var cfpProductPrice = 'price';
                        var isButtonPositionFound = true;

                        if ($(curr_this).find('img').first().length > 0) {
                          if (!$(curr_this).find('img').first().hasClass(collectionLabelClass)) {
                            current_object = appendCFPButtonCollection(curr_this);
                            $(curr_this).find('img').first().addClass(collectionLabelClass);
                          }
                        } else if ($(curr_this).closest('div').find('img').first().length > 0) {
                          if (!$(curr_this).closest('div').find('img').first().hasClass(collectionLabelClass)) {
                            current_object = appendCFPButtonCollection(curr_this);
                            $(curr_this).closest('div').find('img').first().addClass(collectionLabelClass);
                          }

                        } else if ($(curr_this).closest('div').parent().find('img').first().length > 0) {
                          if (!$(curr_this).closest('div').parent().find('img').first().hasClass(collectionLabelClass)) {
                            current_object = appendCFPButtonCollection(curr_this);
                            $(curr_this).closest('div').parent().find('img').first().addClass(collectionLabelClass);
                          }
                        }
                        else if ($(curr_this).closest('div').parent().parent().find('img').first().length > 0) {
                          if (!$(curr_this).closest('div').parent().parent().find('img').first().hasClass(collectionLabelClass)) {
                            current_object = appendCFPButtonCollection(curr_this)
                            $(curr_this).closest('div').parent().parent().find('img').first().addClass(collectionLabelClass);
                          }

                        } else if ($(curr_this).closest('div').parent().parent().parent().find('img').first().length > 0) {
                          if (!$(curr_this).closest('div').parent().parent().parent().find('img').first().hasClass(collectionLabelClass)) {
                            current_object = appendCFPButtonCollection(curr_this)
                            $(curr_this).closest('div').parent().parent().parent().find('img').first().addClass(collectionLabelClass);
                          }

                        } else if ($(curr_this).closest('div').parent().parent().parent().parent().find('img').first().length > 0) {
                          if (!$(curr_this).closest('div').parent().parent().parent().parent().find('img').first().hasClass(collectionLabelClass)) {
                            current_object = appendCFPButtonCollection(curr_this)
                            $(curr_this).closest('div').parent().parent().parent().parent().find('img').first().addClass(collectionLabelClass);
                          }
                        } else if ($(curr_this).closest('div').parent().parent().parent().parent().parent().find('img').first().length > 0) {
                          if (!$(curr_this).closest('div').parent().parent().parent().parent().parent().find('img').first().hasClass(collectionLabelClass)) {
                            current_object = appendCFPButtonCollection(curr_this)
                            $(curr_this).closest('div').parent().parent().parent().parent().parent().find('img').first().addClass(collectionLabelClass);
                          }
                        }
                        if (form_button_display_option == 'show_cfp_button') {
                          var cfpButtonCollection =
                            '<div class="cfp-prod-wrapper ' + get_product.handle + '" data-handle="' + collection_handle_sb + '" data-coll-id="' + collection_id + '">' +
                            '<div class="cfp-prod-button-call">' +
                            '<a class="cfp_call_button" target="_parent" href="tel:+' + phone_form_field_call + '"><button type="button" class="btn Button Button--primary button btn-primary button--primary"><svg width="24" height="24" class="feather-phone-call" xmlns="http://www.w3.org/2000/svg" "><path d="M8.26 1.289l-1.564.772c-5.793 3.02 2.798 20.944 9.31 20.944.46 0 .904-.094 1.317-.284l1.542-.755-2.898-5.594-1.54.754c-.181.087-.384.134-.597.134-2.561 0-6.841-8.204-4.241-9.596l1.546-.763-2.875-5.612zm7.746 22.711c-5.68 0-12.221-11.114-12.221-17.832 0-2.419.833-4.146 2.457-4.992l2.382-1.176 3.857 7.347-2.437 1.201c-1.439.772 2.409 8.424 3.956 7.68l2.399-1.179 3.816 7.36s-2.36 1.162-2.476 1.215c-.547.251-1.129.376-1.733.376"/></svg>' + callforprice_label_call_button + '</button></a>' +
                            '</div>' +
                            '</div>';
                        } else {
                          var cfpButtonCollection =
                            '<div class="cfp-prod-wrapper ' + get_product.handle + ' ' + form_button_display_option + '" data-handle="' + collection_handle_sb + '" data-coll-id="' + collection_id + '">' +
                            '<div class="cfp-prod-url">/products/' + get_product.handle + '</div>' +
                            '<div class="cfp-prod-id">' + get_product.id + '</div>' +
                            '<div class="cfp-prod-title">' + get_product.title + '</div>' +
                            '<div class="cfp-prod-handle">' + get_product.handle + '</div>' +
                            '<div class="cfp-prod-button">' +
                            '<button type="button" class="btn Button Button--primary button btn-primary button--primary call-for-price-btn ' + cfpwhatsapp + '">' + btn_name + '</button>' +
                            '</div>' +
                            '</div>';
                        }
                        if (current_object != '') {
                          if (!$(curr_this).hasClass(collectionLabelClass)) {
                            $(curr_this).addClass(collectionLabelClass);
                            if ($('.cfp-prod-wrapper.' + get_product.handle).length > 0 || current_object.parent().parent().parent().find('.cfp-prod-wrapper-detail').length > 0) {
                              if ($('.cfp-prod-wrapper.' + get_product.handle).parent().parent().parent().find('.cfp-prod-wrapper.' + get_product.handle).length > 0 || current_object.parent().parent().parent().find('.cfp-prod-wrapper-detail').length > 0) {
                              } else {
                                current_object.after(cfpButtonCollection);
                              }
                              //$('.cfp-prod-wrapper.'+get_product.handle)[1].remove();
                            } else {
                              current_object.after(cfpButtonCollection);
                            }
                            current_object.remove();
                            hideAddToCartOnCollection($(curr_this));
                          }
                        }
                      }
                    })
                  })
                };
              }
            })
          }
          
          
        }

        function appendCFPButtonCollection(curr_this) {
          //console.log(curr_this);
          var cfpProductPrice = 'price';
          var cfpProductMoney = 'money';
          var current_object = '';
          var isTitleFound = false;
          if (typeof (doNotHidePrice) !== 'undefined') { isTitleFound = true; current_object = curr_this.find('test'); }
          if (!isTitleFound) {
            var divFind = $(curr_this).closest('div').find('div,h3,h2,a,span,ul,dl');
            current_object = searchCFPprice(divFind);
            if (current_object != '') { isTitleFound = true; }
          }
          if (!isTitleFound) {
            var divFind = $(curr_this).closest('div').parent().find('div,h3,h2,a,span,ul,dl');
            current_object = searchCFPprice(divFind);
            if (current_object != '') { isTitleFound = true; }
          }
          if (!isTitleFound) {
            var divFind = $(curr_this).closest('div').parent().parent().find('div,span,ul,dl');
            current_object = searchCFPprice(divFind);
            if (current_object != '') { isTitleFound = true; }
          }
          if (!isTitleFound) {
            var divFind = $(curr_this).closest('div').parent().parent().find('a,h2,h3,h4,h1,span,ul,dl');
            current_object = searchCFPprice(divFind);
            if (current_object != '') { isTitleFound = true; }
          }
          if (!isTitleFound) {
            var divFind = $(curr_this).closest('div').parent().parent().parent().find('div,h2,h3,a,span,ul,dl');
            current_object = searchCFPprice(divFind);
            if (current_object != '') { isTitleFound = true; }
          }
          if (!isTitleFound) {
            var divFind = $(curr_this).closest('div').parent().parent().parent().parent().find('div,h2,h3,a,span,ul,dl');
            current_object = searchCFPprice(divFind);
            if (current_object != '') { isTitleFound = true; }
          }
          if (!isTitleFound) {
            var divFind = $(curr_this).closest('div').parent().parent().parent().parent().parent().find('div,h2,h3,a,span,ul,dl');
            current_object = searchCFPprice(divFind);
            if (current_object != '') { isTitleFound = true; }
          }
          return current_object;
        }

        function searchCFPprice(divFind) {
          var cfpProductPrice = 'price';
          var cfpProductMoney = 'money';
          var current_object = '';
          // console.log('fun call');
          $(divFind).each(function (i) {
            var class_title = $(this).attr('class');
            if (typeof (class_title) != 'undefined') {
              if (class_title.includes(cfpProductPrice) || class_title.includes(cfpProductMoney)) {
                // console.log($(this), 'matchhh', i);
                current_object = $(this)
                // $(this).hide();
                // return current_object;
                return false;
              }
            }
          });
          return current_object;
        }

        function CFPcheckForProductPage() {
          if (window.location.pathname.indexOf('/products/') !== -1) {
            // console.log('product page');
            var current_collection_list_prodPage = filterConvertArray(cfp_current_collection_list_prodPage);
            var csp_total_collection_list_prodPage = colIDSresults;
            var cfp_enabled = "no";

            //check for collection ids
            if (cfp_enabled != 'yes') {
              for (collection_name of csp_total_collection_list_prodPage) {
                for (current_collection of current_collection_list_prodPage) {
                  if (current_collection.length >= 2 && collection_name.length >= 2) {
                    if (current_collection.replace(/ /g, '') == collection_name.replace(/ /g, '')) {
                      cfp_enabled = "yes";
                    }
                  }
                }
              }
            }
            //check all products
            if (is_all_products == "1" && cfp_enabled != 'yes') { cfp_enabled = "yes"; }
            //check specific products
            if (prodAllresults.includes(product_id_sb.toString()) && cfp_enabled != "yes") {
              cfp_enabled = "yes";
            }
            //console.log('cfp_enabled', cfp_enabled)
            if (cfp_enabled == "yes") {
              //$('.csp-prod-wrapper.'+product_handle_sb).remove();
              if (form_button_display_option == 'show_cfp_button') {
                var addtocfpbutton =
                  '<div class="cfp-prod-wrapper-detail-call">' +
                  '<div class="cfp-prod-button-call">' +
                  '<a class="cfp_call_button" target="_parent" href="tel:+' + phone_form_field_call + '"><button type="button" class="btn Button Button--primary button btn-primary button--primary"><svg width="24" height="24" class="feather-phone-call" xmlns="http://www.w3.org/2000/svg" "><path d="M8.26 1.289l-1.564.772c-5.793 3.02 2.798 20.944 9.31 20.944.46 0 .904-.094 1.317-.284l1.542-.755-2.898-5.594-1.54.754c-.181.087-.384.134-.597.134-2.561 0-6.841-8.204-4.241-9.596l1.546-.763-2.875-5.612zm7.746 22.711c-5.68 0-12.221-11.114-12.221-17.832 0-2.419.833-4.146 2.457-4.992l2.382-1.176 3.857 7.347-2.437 1.201c-1.439.772 2.409 8.424 3.956 7.68l2.399-1.179 3.816 7.36s-2.36 1.162-2.476 1.215c-.547.251-1.129.376-1.733.376"/></svg>' + callforprice_label_call_button + '</button></a>' +
                  '</div>' +
                  '</div>';
              } else {
                var addtocfpbutton =
                  '<div class="cfp-prod-wrapper-detail ' + form_button_display_option + '">' +
                  '<div class="cfp-prod-url">' + product_url + '</div>' +
                  '<div class="cfp-prod-id">' + curr_hundle_pid + '</div>' +
                  '<div class="cfp-prod-title">' + curr_title_detailpge + '</div>' +
                  '<div class="cfp-prod-handle">' + product_handle_sb + '</div>' +
                  '<div class="cfp-prod-button">' +
                  '<button type="button" class="btn Button Button--primary button btn-primary button--primary call-for-price-btn ' + cfpwhatsapp + '">' + btn_name + '</button>' +
                  '</div>' +
                  '</div>';
              }
              var current_object_detail = '';
              $("form").each(function (index) {
                var getForm = $(this).attr("action");
                if (!(typeof (getForm) !== 'undefined')) {
                  var getForm = '';
                }
                if (getForm.includes("/cart/add") && $(".cfp-prod-wrapper-detail").length == 0 && $(".cfp-prod-wrapper-detail-call").length == 0) {
                  $(this).after(addtocfpbutton);
                  $(".cfp-prod-button").show();
                  // CFPhidePriceOnAllPages($(this));
                  current_object_detail = appendCFPButtonCollection($(this));
                  if (current_object_detail == '') {
                    CFPhidePriceOnAllPages($(this));
                  }
                  CFPhidePriceOnAllPages($(this)); //hide the price added class //05-09

                  var detaiilInForm = $('form[action*="/cart/add"]').find('.sb-call-for-price-title,.product-meta__title,.product-meta,.product__title,.gt_heading,.product-title,.product-single__title,.product-single__vendor')
                  if (!(typeof (doNotHideaddtoCart) !== 'undefined')) {
                    if (detaiilInForm.length > 0) {
                      //console.log('sb-call-for-price-title');
                      $('form[action*="/cart/add"]').find('button').remove(); //someone buys the product so remove the add to cart
                      $('form[action*="/cart/add"]').find('input[type="submit"][name="button"]').remove(); // remove [name] if not working on any store
                    } else {
                      //console.log('else ');
                      $(this).remove();//someone buys the product so remove the add to cart
                      $('form[action*="/cart/add"]').remove();
                    }
                  }
                }
              });
              //remove price on detail page
              if (current_object_detail != '') {
                if(checkFreeTheme()){ //for free theme variant change price show issue 
                  $("product-info .no-js-hidden").each(function(){ if($(this).find(".price").length > 0){ $(this).remove(); }  })
                }
                // if (!current_object_detail.parent().hasClass('cfp-detail-checked')) {
                // current_object_detail.parent().addClass('cfp-detail-checked');
                current_object_detail.remove();
                // }
              }
            }
            else {
              $('form[action="/cart/add"]').show();
            }
          }
        }
        function CFPhidePriceOnAllPages(curr_this) {
          //if (typeof (doNotHidePrice) !== 'undefined') {return;}
          if ($(curr_this).find(hidePriceList_cfp).length > 0) {
            $(curr_this).find(hidePriceList_cfp).remove();
          } else if ($(curr_this).closest('div').find(hidePriceList_cfp).length > 0) {
            $(curr_this).closest('div').find(hidePriceList_cfp).remove();
          } else if ($(curr_this).closest('div').parent().find(hidePriceList_cfp).length > 0) {
            $(curr_this).closest('div').parent().find(hidePriceList_cfp).remove();
          } else if ($(curr_this).closest('div').parent().parent().find(hidePriceList_cfp).length > 0) {
            $(curr_this).closest('div').parent().parent().find(hidePriceList_cfp).remove();
          } else if ($(curr_this).closest('div').parent().parent().parent().find(hidePriceList_cfp).length > 0) {
            $(curr_this).closest('div').parent().parent().parent().find(hidePriceList_cfp).remove();
          } else if ($(curr_this).closest('div').parent().parent().parent().find(hidePriceList_cfp).length > 0) {
            $(curr_this).closest('div').parent().parent().parent().find(hidePriceList_cfp).remove();
          } else if ($(curr_this).closest('div').parent().parent().parent().parent().find(hidePriceList_cfp).length > 0) {
            $(curr_this).closest('div').parent().parent().parent().parent().find(hidePriceList_cfp).remove();
          } else if ($(curr_this).closest('div').parent().parent().parent().parent().parent().find(hidePriceList_cfp).length > 0) {
            $(curr_this).closest('div').parent().parent().parent().parent().parent().find(hidePriceList_cfp).remove();
          }
        }

        function hideAddToCartOnCollection(curr_this) {
          var hideCartBuuton = 'form[action*="/cart/add"],.quick-view,.t4s-pr-quickview,.t4s-pr-addtocart,.add-to-cart,.quick-view-btn,.boost-pfs-quickview-btn,.quick-add';
          if ((typeof (doNotHideaddtoCart) !== 'undefined')) { var hideCartBuuton = 'NOT-HIDE'; }
          // var priceClass = '.price,.money';
          var priceClass = '.product-name,.title,.product-title,.sb-call-for-price-title,.product-single__title';

          if ($(curr_this).find(hideCartBuuton).length > 0) {
            //console.log('1');
            if ($(curr_this).children().find(hideCartBuuton).find(priceClass).length <= 0) {
              $(curr_this).find(hideCartBuuton).remove();
            }
          } else if ($(curr_this).closest('div').find(hideCartBuuton).length > 0) {
            //console.log('2');
            if ($(curr_this).closest('div').find(hideCartBuuton).children().find(priceClass).length <= 0) {
              $(curr_this).closest('div').find(hideCartBuuton).remove();
            }
          } else if ($(curr_this).closest('div').parent().find(hideCartBuuton).length > 0) {
            //console.log('3');
            if ($(curr_this).closest('div').parent().find(hideCartBuuton).children().find(priceClass).length <= 0) {
              $(curr_this).closest('div').parent().find(hideCartBuuton).remove();
            }
          } else if ($(curr_this).closest('div').parent().parent().find(hideCartBuuton).length > 0) {
            //console.log('4');
            if ($(curr_this).closest('div').parent().parent().find(hideCartBuuton).children().find(priceClass).length <= 0) {
              $(curr_this).closest('div').parent().parent().find(hideCartBuuton).remove();
            }
          } else if ($(curr_this).closest('div').parent().parent().parent().find(hideCartBuuton).length > 0) {
            //console.log('5');
            if ($(curr_this).closest('div').parent().parent().parent().find(hideCartBuuton).children().find(priceClass).length <= 0) {
              $(curr_this).closest('div').parent().parent().parent().find(hideCartBuuton).remove();
            }
          } else if ($(curr_this).closest('div').parent().parent().parent().find(hideCartBuuton).length > 0) {
            //console.log('6');
            if ($(curr_this).closest('div').parent().parent().parent().find(hideCartBuuton).children().find(priceClass).length <= 0) {
              $(curr_this).closest('div').parent().parent().parent().find(hideCartBuuton).remove();
            }
          } else if ($(curr_this).closest('div').parent().parent().parent().parent().find(hideCartBuuton).length > 0) {
            //console.log('7', $(curr_this).closest('div').parent().parent().parent().parent().children().find(priceClass).length);
            if ($(curr_this).closest('div').parent().parent().parent().parent().find(hideCartBuuton).children().find(priceClass).length <= 0) {
              $(curr_this).closest('div').parent().parent().parent().parent().find(hideCartBuuton).remove();
            }
          } else if ($(curr_this).closest('div').parent().parent().parent().parent().parent().find(hideCartBuuton).length > 0) {
            //console.log('8');
            if ($(curr_this).closest('div').parent().parent().parent().parent().parent().find(hideCartBuuton).children().find(priceClass).length <= 0) {
              $(curr_this).closest('div').parent().parent().parent().parent().parent().find(hideCartBuuton).remove();
            }
          }

        }
        setTimeout(function () { 
          hideSearchPrice($)
        }, 1000);
      }

      function loadEventForm($) {
        var Create_form_fields = (productdata) => {
          var options = productdata.product.options;
          for (let i = 0; i < options.length; i++) {
            var varianName = options[i].name;
            var varianValuesArray = options[i].values;
            // select_id=`cfp_sel_${varianName}`;
            select_id = varianName;
            select_id = select_id.replace("(", "");
            select_id = select_id.replace(")", "");
            // select_id=select_id.replaceAll(" ","_");
            select_id = select_id.replace(/\s/g, "");
            select_id = select_id.replace(/\//g, "");
            select_id = select_id.replace(/&/g, "and");
            select_id = select_id.replace(/:/g, "");
            select_id = select_id.replace(/-/g, "");
            select_id = select_id.replace(/=/g, "");
            var variant_class = "cfp_var" + i;
            if (varianName == "Title") {
              continue;
            }
            Select_keyword_placeholder = "Select";
            if (Shopify.shop == "shoopsschweiz.myshopify.com") { Select_keyword_placeholder = ""; }

            SelectDiv = `<div class="form-group">
              <select class="form-control formfield  cfp_var_data ${variant_class}" id=${select_id} name="cfp_var['var']['${varianName}']"><option selected="true" value="select_default_opt" disabled="disabled" >
              ${Select_keyword_placeholder} ${varianName}</option></select></div>`;   //created dynamic select option

            $('.cfp_variants').prepend(SelectDiv);
            var options_html = varianValuesArray.forEach(Create_selectmenu);
            function Create_selectmenu(item) {
              var options = '<option value="' + item + '">' + item + '</option>';
              //created dynamic options for select menu
              $('#' + select_id).append(options);
            }
          }
        }

        // if (pay_status == "active" && plan_name == "cfp_plan_premium") {
        if (mail_chimp_enable == "1") {
          $('.cfp_subscribe_wrapper').show();
        }//} else {$('.cfp_subscribe_wrapper').hide();}

        var country_field = (country_enable == "1") ? $('.cfp_country_field').show() : $('.cfp_country_field').hide();
        

        $(document).on('click', '.call-for-price-btn', function (e) {

          $('.cfp-parent-wrapper').css("opacity", "0");
          $('.cfp_loader').css("display", "block");
          $('.text-danger').hide();
          $('.formfield').val('');
          $('.cfp_variants').empty();  //remove appended field for fresh start
          var url = window.location.href;
          $('#cfpmodal').css("display", "block");
          shop_for_products = Shopify.shop;  // url for ajax products variant getting process
          shop = Shopify.shop;

          var product = $(this).parent().parent().parent().find('.cfp-prod-url').html();
          var title = $(this).parent().parent().parent().find('.cfp-prod-title').html();

          $('#cfp_product_name').html(title);
          productid = $(this).parent().parent().find('.cfp-prod-id').html();
          producthandle = $(this).parent().parent().find('.cfp-prod-handle').text();
          producturl = location.hostname + product;
          AjaxURL = 'https://' + shop_for_products + '/products/' + producthandle + '.json';
          var request = $.ajax({
            url: AjaxURL,
            type: "GET",
            dataType: "json",
            beforeSend: function () {
              $('.cfp_loader').css("opacity", "1");
            },
          });

          request.done(function (productdata) {
            var myJSON = JSON.stringify(productdata);
            productdata = JSON.parse(myJSON);
            if (variants_enable == "1") {
              Create_form_fields(productdata);
            }
            //  alert("after");
            $('.cfp_loader').css("display", "none");
            $('.cfp-parent-wrapper').css("opacity", "1");
          });
          request.fail(function (productdata) {
            $('.cfp_loader').css("display", "none");
            $('.cfp-parent-wrapper').css("opacity", "1");
          });

          $('#cfpname').attr('placeholder', translate_fields.placeholder_name);
          $('#cfpemail').attr('placeholder', translate_fields.placeholder_email);
          $('#cfpphone').attr('placeholder', translate_fields.placeholder_phone);
          $('#cfpcountrycode').attr('placeholder', translate_fields.placeholder_phone_countrycode);
          $('#cfp_country').attr('placeholder', translate_fields.select_country);
          $('#cfpmessage').attr('placeholder', translate_fields.placeholder_your_msg);
          $('#country_first_option').text(translate_fields.select_country);
          // console.log(phone_countrycode_show,"phone_countrycode_show")
          if (!(phone_countrycode_show == "0")) {
            $('#cfpcountrycode').val(phone_default_country_code);
          }

          if (form_fields.includes("venue")) {
            $('#venue').attr('placeholder', cfp_configuration.venue_form_field);
          }
        });

        var span = document.getElementsByClassName("close")[0];
        $(document).on('click', '.close', function () {
          $('#cfpmodal').css("display", "none");
        });

        $(document).on('click', '.submitReq', function () {
          $('.text-danger').remove();
          // whatsapp msg
          var whatsappvals = ``;
          var wpMessage = ``;
          var email_regex = /^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/;
          var name1 = $('#cfpname').val();
          var title = $('#cfp_product_name').text();
          var email = $('#cfpemail').val();

          whatsappvals += `Name : ${name1}%0D%0AE-mail : ${email} %0D%0A`;

          if ($("#cfpphone").length) {
            var phone = $('#cfpphone').val();
            if ($("#cfpcountrycode").length) {
              var cfpcountrycode = $("#cfpcountrycode").val();
              phone = cfpcountrycode + '' + phone;
            }
            phone = phone.replace(/ /g, '')
            var countrycode_val = phone.match(/^\+\d{1,3}\d{9,15}$/);
            whatsappvals += `Phone : ${phone}%0D%0A`;
          }

          if ($("#cfpmessage").length) { var message = $('#cfpmessage').val(); wpMessage += `Message : ${message}`; };
          if ($("#venue").length) { var venue = $('#venue').val(); }
          if ($("#cfp_country").length) { var country = $('#cfp_country').val(); whatsappvals += `Country : ${country}%0D%0A`; }
          var ownermail = sender_email;
          var cfp_file = $("#cfp_image").val();
          var gcaptcha = $('.g-recaptcha-response').val();
          var var_Array = $('.cfp_var_data');
          var VariantsArray = new Array();

          var wpVariants = '';
          for (var i = 0; i < var_Array.length; i++) {
            var Var_name = $(var_Array[i]).attr('id');
            var Var_value = $(var_Array[i]).val();
            var var_collection = {
              'Var_name': Var_name,
              'Var_value': Var_value
            };
            wpVariants += Var_name + " : " + Var_value + "%0D%0A";
            VariantsArray.push(var_collection);
          }

          var jObject = {};
          jObject = JSON.stringify(VariantsArray);
          if (!VariantsArray) {
            // VariantsArray="abcd";
          }
          /* validation controllers*/
          count_name = true;
          if (name1.length == 0) {
            $('#cfpname').after(`<span class=\'err_name text-danger\'>${name_vald}</span>`);
            count_name = false;
          }
          if (email.length == 0) {
            $('#cfpemail').after(`<span class=\'err_email text-danger\'>${email_blank_vald}</span>`);
            count_name = false;
          }
          else {
            if (!email_regex.test(email)) {
              $('#cfpemail').after(`<span class=\'err_msg text-danger\'>${email_invalid_vald}</span>`);
              count_name = false;
            }
          }

          if (required_form_fields.includes("message")) {
            if (message.length == 0) {
              $('#cfpmessage').after(`<span class=\'err_msg text-danger\'>${message_vald}</span>`);
              count_name = false;
            }
          }
          if (required_form_fields.includes("phone")) {
            if (phone.length <= 9) {
              $('#cfpphone').after(`<span class=\'err_phone text-danger\'>${phone_blank_vald}</span>`);
              count_name = false;
            } else if (!countrycode_val && phone_countrycode_required != "0") {
              var country_code_vald_hide_shops = ["mirage-sari-center.myshopify.com", "prim-and-pro-commercial-cleaning.myshopify.com", "rp-imaging.myshopify.com", "flooring-for-less-online.myshopify.com", "pessoa-joias.myshopify.com", "jessica-flinn-designs.myshopify.com", "no-42-interiors.myshopify.com", "high-tech-delivery.myshopify.com", "i-dance-contemporary.myshopify.com", "bohl-companies.myshopify.com", "spread-event-co.myshopify.com", "joombo-co.myshopify.com", "portabo.myshopify.com", "production-case.myshopify.com", "w-rltd.myshopify.com", "robs-furniture-mattresses.myshopify.com", "myartph.myshopify.com"];
              if ($.inArray(shop, country_code_vald_hide_shops) == -1)  // if shop is not present in array only then validate for mobile field
              {
                $('#cfpphone').after(`<span class=\'err_phone text-danger\'>${phone_cc_vald}</span>`);
                count_name = false;
              }
            }
          }

          if (required_form_fields.includes("venue")) {
            if (message.length == 0) {
              $('#venue').after(`<span class=\'err_msg text-danger\'>${translate_fields.venue_vald}</span>`);
              count_name = false;
            }
          }

          if (required_form_fields.includes("country")) {
            if (!country) {
              $('#cfp_country').after(`<span class=\'err_msg text-danger\'>${country_vald}</span>`);
              count_name = false;
            }
          }
          if (Shopify.shop == 'lacava-specialty-coffee-roastery.myshopify.com') {
            count_name = true;
          }

          if (required_form_fields.includes("variants")) {
            var variants_validation = [".cfp_var0", ".cfp_var1", ".cfp_var2"];
            for (variant_vald of variants_validation) {
              if ($(variant_vald).length > 0) {
                var variant_value = $(variant_vald).val();
                if (variant_value == null) {
                  $(variant_vald).after();
                  cvarian_vald = "abcd";
                  $(variant_vald).after(`<span class=\'err_msg text-danger\'>${variant_blank_vald}</span>`);
                  count_name = false;
                }
              }
            }
          }
          if (required_form_fields.includes("image")) {
            if (!cfp_file) {
              $('#cfp_image').after(`<span class=\'err_phone text-danger\'>${image_vald}</span>`);
              count_name = false;
            }
          }

          if (Shopify.shop == "bluesheepbakeshop.myshopify.com" || Shopify.shop == "easy2-buy-shop.myshopify.com")  //cfp_adt_flds
          {
            var servings_no = $('#add_serving_no').val();
            var event_date_modal = $('#add_event_date').val();
            if (required_form_fields.includes("servings")) {
              if (servings_vald == '') {
                servings_vald = 'This field required';
              }
              if (servings_no.length == 0) {
                $('#add_serving_no').after(`<span class=\'err_msg text-danger\'>${servings_vald}</span>`);
                count_name = false;
              }
            }

            if (required_form_fields.includes("date")) {
              if (date_vald == '') {
                date_vald = 'This field required';
              }
              if (event_date_modal.length == 0) {
                $('#add_event_date').after(`<span class=\'err_msg text-danger\'>${date_vald}</span>`);
                count_name = false;
              }
            }
          }

          if (count_name) {
            var cfp_form = $('.sb_cfp ')[0];
            var cfo_form__data = new FormData(cfp_form);
            cfo_form__data.append('name', name1);
            cfo_form__data.append('email', email);
            cfo_form__data.append('phone', phone);
            cfo_form__data.append('message', message);
            cfo_form__data.append('pid', producturl);
            cfo_form__data.append('productid', productid);
            cfo_form__data.append('message', message);
            cfo_form__data.append('shop', shop);
            cfo_form__data.append('senderemail', ownermail);
            cfo_form__data.append('country', country);
            cfo_form__data.append('gcaptcha', gcaptcha);
            cfo_form__data.append('VariantsArray', VariantsArray);
            cfo_form__data.append('title', title);
            cfo_form__data.append('request_type', request_type);
            var cfp_allowed_files = ["png", "jpeg", "jpg", "gif", "csv", "pdf", "docs", "doc", "xlsx"];

            if ($('#cfp_image').length) {
              var cfp_image_length = document.getElementById('cfp_image').files.length;
              for (var x = 0; x < cfp_image_length; x++) {
                var inq_image = document.getElementById('cfp_image').files[x];
                var cfp_fle_extension = inq_image['name'].split('.').pop();
                if (cfp_allowed_files.includes(cfp_fle_extension.toLowerCase())) {
                  cfo_form__data.append("cfp_file[]", document.getElementById('cfp_image').files[x]);
                }
                else {
                  $('#cfp_image').after(`<span class=\'err_phone text-danger\'>${image_vald}</span>`);
                  return false;
                }
              }
            }
            // send whatsapp message
            if (form_button_display_option == 'show_cfp_whatsapp') {
              const mediaQuery = window.matchMedia("(max-width: 425px)");
              var deviceDetect = false;
              if (mediaQuery.matches) { deviceDetect = true; }
              var whatsappMsg = "Product : https://" + producturl + "%0D%0A" + wpVariants + "%0D%0A%0D%0A" + whatsappvals + wpMessage;
              whatsAppChatRedirection(whatsappNumber, deviceDetect, whatsappMsg);
            }

            if ($("#cfp_subscribe").length) {
              if ($('#cfp_subscribe').is(':checked')) {
                cfo_form__data.append('customer_subscribe', "1");
              }
            }
            $.ajax({
              url: 'https://setubridgeapps.com/call-for-price/staging-cfp-git/src/public/submitreq_new',
              type: 'POST',
              data: cfo_form__data,
              processData: false,
              contentType: false,
              cache: false,
              beforeSend: function () {
                $('.cfp_loader').css("display", "block");
                $('.cfp_loader').css("opacity", "1");
                $('.cfp-parent-wrapper').css("opacity", "0");
              },
              success: function (data) {
                form_curr_html = $('.sb_cfp').html();
                $('.cfp_loader').css("display", "none");
                // return false;
                var shop = Shopify.shop;
                $('#cfpmodal .cfp_field ,#cfpmodal textarea').val(' ');
                $('#cfpmodal .cfp-modal-body').before(`<div class="alert alert-success" style="background-color: #dff7df;padding: 10px;">${success_message}</div>`);
                if (Shopify.shop == "amtrac-furnishings.myshopify.com") { $(".sb_cfp").html('<div class="cfp_thankyou_msg"><div class="">Thank you for your interest.</div><div class="">We will be in contact with you within 24 hours.</div></div>'); }
                $('.cfp-parent-wrapper').css("opacity", "1");
                $('.sb_cfp input[type=text]').val('');
                // return false;
                setTimeout(function () {
                  $('#cfpmodal .alert-success').remove();
                  $('#cfpmodal').hide();
                  if (Shopify.shop == "amtrac-furnishings.myshopify.com") { $(".sb_cfp").html(form_curr_html); }
                  var shop = Shopify.shop;
                  if (is_redirect == "1") {
                    redirect_page = redirect_page.trim();
                    if (redirect_page.length == 0) {
                      return false;
                    }
                    window.open(redirect_page, "_self");
                  }
                }, hide_cfp_modal_sec);
              },
              error: function (error) {
              }
            });
          } else {
            return false;
          }
        });
        cfpForm($);
      }

      function cfpForm($) {
        if (form_theme == '1') {
          var form_design = `.call-for-price-modal-wrapper .cfp-modal-header{background-color: #fff;color: #333333d9;} 
      .submitReq{background-color: #e6e4e4b3;color: #333333e6;}.submitReq:hover,.submitReq:focus{background-color: #e6e4e4b3;color: #333333e6;}
      .cfp-modal-body{background-color:#fff; }.call-for-price-modal-wrapper .cfp-modal-header {padding: 13px 0px;border-bottom: 1px solid #f3f3f3;}
      .alert{margin-top:10px;}select.cfp_var_data{background-color: #fff !important;}`;
        } else {
          var form_design = `.call-for-price-modal-wrapper .cfp-modal-header { background-color: #333333d9; color: #333333d9;}
      .call-for-price-modal-wrapper .cfp-modal-header { padding: 16px 16px; }
      .submitReq{ background-color: #333333e6;    color: #fff;      }
      .submitReq:hover,.submitReq:focus{  background-color: #333333e6;    color: #fff;      }
      .cfp-modal-body {   background-color:#e6e4e4b3;   }
      .call-for-price-modal-wrapper .cfp-modal-header h2 {color:#fff; }`;
        }
        var cfp_form_css = `<style>` + form_design + `
  .call-for-price-modal-wrapper .close{  border-radius: 106px;  background: #fefefe;  width: 26px;  padding: 1px 6px;  font-size: 23px;  position: absolute;  right: -11px;  top: -13px;  height: 26px;  z-index:999999999999999999999;  cursor: pointer;}
  .alert  {    text-align: center!important;  font-size: 17px!important;      }
  .cfp-prod-handle, .cfp-prod-url, .cfp-prod-title , .cfp-prod-id  {       display:none;       }
  .cfp-prod-wrapper  { text-align:center; margin-bottom: 25px;  }
  .submitReq{border-radius:0px; }
  .formfield{   margin:0!important;     border: 1px solid rgba(26,26,26,0.15)!important;    width:100%;    height:35%;  }
  .cfp-parent-wrapper  { opacity:0;   }
  .call-for-price-modal-wrapper label,.call-for-price-modal-wrapper input,.call-for-price-modal-wrapper textarea{ width: 100%;    font-size: 14px;    height: auto;    border-radius: 0px;    padding: 8px;    line-height: 1;}
  .call-for-price-modal-wrapper .form-group {    margin: 1px 0;  }
  .call-for-price-modal-wrapper .submitReq {    padding: 5px 20px;font-size: 13px;font-weight: bold;text-transform: uppercase;min-width: 140px;}
  .call-for-price-modal-wrapper .submit-btn{width:100%;text-align:right;  text-align: center;  margin-top: 25px;  margin-bottom: 10px;}
  .call-for-price-modal-wrapper label{text-transform: capitalize;}
  .text-danger  {   text-align: left!important;    color: #ef6c0dd1;    background: #fff3de;    width: 100%;    display: inline-block;    font-size: 12px;    font-style: italic;    padding: 3px 5px;    text-transform: capitalize;    margin: 0px 0;  }  
  input,textarea  {background: white;   }
  /* The Modal (background) */.call-for-price-modal-wrapper {  display: none; /* Hidden by default */  position: fixed; /* Stay in place */  z-index: 9999; /* Sit on top */  padding: 100px 0; /* Location of the box */  left: 0;  top: 0;  width: 100%; /* Full width */  height: 100%; /* Full height */  overflow: auto;  /* Enable scroll if needed */  background-color: rgb(0,0,0); /* Fallback color */  background-color: rgba(0,0,0,0.4); /* Black w/ opacity */ }
  /* Modal Content */.call-for-price-modal-wrapper .cfp-modal-content {  position: relative;  background-color: #fefefe;  margin: auto;  margin-bottom: 10%;  padding: 0;    width: 440px;  box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2),0 6px 20px 0 rgba(0,0,0,0.19);  -webkit-animation-name: animatetop;  -webkit-animation-duration: 0.4s;  animation-name: animatetop;  animation-duration: 0.4s;   }
  /* Add Animation */@-webkit-keyframes animatetop {  from {top:-300px; opacity:0}   to {top:0; opacity:1}}
  @keyframes animatetop {  from {top:-300px; opacity:0}  to {top:0; opacity:1}}
  /* The Close Button */.call-for-price-modal-wrapper .close {  float: right;  font-size: 23px;  font-weight: bold;  line-height: 1;}
  .call-for-price-modal-wrapper .close:hover,.call-for-price-modal-wrapper .close:focus { text-decoration: none;  cursor: pointer;  }
  .call-for-price-modal-wrapper .cfp-modal-header {  padding-top:16px;}
  .call-for-price-modal-wrapper .cfp-modal-body {padding: 2px 16px 25px;}
  .call-for-price-modal-wrapper .modal-footer {  padding: 2px 16px;  background-color: #5cb85c;  color: white;}
  .call-for-price-modal-wrapper .cfp-modal-header h2 {font-size: 18px;text-transform: uppercase;text-align: center;margin: 0;font-weight: 900;}
  @media (max-width:460px) { .call-for-price-modal-wrapper .cfp-modal-content    {    width: 310px;    }  }  
  form   .form-group  {    padding:5px;  }      .cfp_variants  {    text-align:center;  }.cfp_loader {  animation: load3 1s infinite linear;  background: #fff;  background: linear-gradient(to right, #ddd 10%, rgba(#ddd, 0) 70%);  border-radius: 50%;  height: 50px;  margin: 5em auto;  position: relative;  width: 50px;  opacity:0;  margin: 0 auto;top: 45%;  opacity: 1;  position: absolute;  left: 0;  right: 0;  }
  .cfp_loader:before {  width: 100%;  height: 50%;  background: #ddd;  border-radius: 50px 50px 0 0;  position: absolute;  top: 0;  left: 0;  content: '';}
  .cfp_loader:after {  background: #fff;  width: 60%;  height: 60%;  border-radius: 50%;  content: '';  margin: auto;  position: absolute;  top: 0;  left: 0;  bottom: 0;  right: 0;}
  @-webkit-keyframes load3 {  100% {    transform: rotate(360deg);  }}
  #cfpmessage  {       min-height:100px!important;   }
  .cfp_var_data  {     background-color: #fff!important;     line-height: normal!important;    font-size: 14px!important;    color: #939393!important;}
  #cfp_product_name  {        font-size: 14px;    text-align:center;    margin-top:5px;    word-wrap: break-word;     }
  .country_field  {    margin: 0!important;    border: 1px solid rgba(26,26,26,0.15)!important;    width: 100%;    height: 35%;    line-height: normal!important;    font-size: 14px!important;    color: #939393!important;        background-color: #fff !important;  }  
  #cfp_subscribe { display: inline-block;    width: unset!important;    height: unset!important;    margin: 2px;    vertical-align: middle; }  
  .cfp_nwsltr { font-size:14px!important; margin-left:5px; }
  .formfield input::-webkit-input-placeholder {color: #777;}
  .formfield input::-moz-placeholder { /* Firefox 19+ */color: #777;}
  .formfield input:-ms-input-placeholder {color: #777;}
  .formfield input:-moz-placeholder { /* Firefox 18- */color: #777;}
  </style>`;

        if (form_fields.includes("phone")) {
          if (!(phone_countrycode_show == "0")) {
            var cfp_phone = `<div class="form-group cfp_phone_wrapper" style="width:100%;">
    <input type="text" placeholder="Country Code" id="cfpcountrycode" class="cfp_field form-control formfield" value="" style="width: 13%;">
    <input type="text" placeholder="Enter Phone Number" id="cfpphone" class="cfp_field form-control formfield" value="" style="width: 85%;">
    </div>`;
          } else {
            var cfp_phone = `<div class="form-group cfp_phone_wrapper">
    <input type="text" placeholder="Enter Phone Number" id="cfpphone" class="cfp_field form-control formfield" value="">
    </div>`;
          }
        } else {
          var cfp_phone = '';
        }

        if (form_fields.includes("country")) {
          var cfp_country = `<div class="form-group cfp_country_field">  
    <select class="form-control country_field" id="cfp_country">
       <option selected="true" id="country_first_option" value="select_default_opt" disabled="disabled">Select Country</option>
       <option value="Afganistan">Afghanistan</option>
       <option value="Albania">Albania</option>
       <option value="Algeria">Algeria</option>
       <option value="American Samoa">American Samoa</option>
       <option value="Andorra">Andorra</option>
       <option value="Angola">Angola</option>
       <option value="Anguilla">Anguilla</option>
       <option value="Antigua & Barbuda">Antigua & Barbuda</option>
       <option value="Argentina">Argentina</option>
       <option value="Armenia">Armenia</option>
       <option value="Aruba">Aruba</option>
       <option value="Australia">Australia</option>
       <option value="Austria">Austria</option>
       <option value="Azerbaijan">Azerbaijan</option>
       <option value="Bahamas">Bahamas</option>
       <option value="Bahrain">Bahrain</option>
       <option value="Bangladesh">Bangladesh</option>
       <option value="Barbados">Barbados</option>
       <option value="Belarus">Belarus</option>
       <option value="Belgium">Belgium</option>
       <option value="Belize">Belize</option>
       <option value="Benin">Benin</option>
       <option value="Bermuda">Bermuda</option>
       <option value="Bhutan">Bhutan</option>
       <option value="Bolivia">Bolivia</option>
       <option value="Bonaire">Bonaire</option>
       <option value="Bosnia & Herzegovina">Bosnia & Herzegovina</option>
       <option value="Botswana">Botswana</option>
       <option value="Brazil">Brazil</option>
       <option value="British Indian Ocean Ter">British Indian Ocean Ter</option>
       <option value="Brunei">Brunei</option>
       <option value="Bulgaria">Bulgaria</option>
       <option value="Burkina Faso">Burkina Faso</option>
       <option value="Burundi">Burundi</option>
       <option value="Cambodia">Cambodia</option>
       <option value="Cameroon">Cameroon</option>
       <option value="Canada">Canada</option>
       <option value="Canary Islands">Canary Islands</option>
       <option value="Cape Verde">Cape Verde</option>
       <option value="Cayman Islands">Cayman Islands</option>
       <option value="Central African Republic">Central African Republic</option>
       <option value="Chad">Chad</option>
       <option value="Channel Islands">Channel Islands</option>
       <option value="Chile">Chile</option>
       <option value="China">China</option>
       <option value="Christmas Island">Christmas Island</option>
       <option value="Cocos Island">Cocos Island</option>
       <option value="Colombia">Colombia</option>
       <option value="Comoros">Comoros</option>
       <option value="Congo">Congo</option>
       <option value="Cook Islands">Cook Islands</option>
       <option value="Costa Rica">Costa Rica</option>
       <option value="Cote DIvoire">Cote DIvoire</option>
       <option value="Croatia">Croatia</option>
       <option value="Cuba">Cuba</option>
       <option value="Curaco">Curacao</option>
       <option value="Cyprus">Cyprus</option>
       <option value="Czech Republic">Czech Republic</option>
       <option value="Denmark">Denmark</option>
       <option value="Djibouti">Djibouti</option>
       <option value="Dominica">Dominica</option>
       <option value="Dominican Republic">Dominican Republic</option>
       <option value="East Timor">East Timor</option>
       <option value="Ecuador">Ecuador</option>
       <option value="Egypt">Egypt</option>
       <option value="El Salvador">El Salvador</option>
       <option value="Equatorial Guinea">Equatorial Guinea</option>
       <option value="Eritrea">Eritrea</option>
       <option value="Estonia">Estonia</option>
       <option value="Ethiopia">Ethiopia</option>
       <option value="Falkland Islands">Falkland Islands</option>
       <option value="Faroe Islands">Faroe Islands</option>
       <option value="Fiji">Fiji</option>
       <option value="Finland">Finland</option>
       <option value="France">France</option>
       <option value="French Guiana">French Guiana</option>
       <option value="French Polynesia">French Polynesia</option>
       <option value="French Southern Ter">French Southern Ter</option>
       <option value="Gabon">Gabon</option>
       <option value="Gambia">Gambia</option>
       <option value="Georgia">Georgia</option>
       <option value="Germany">Germany</option>
       <option value="Ghana">Ghana</option>
       <option value="Gibraltar">Gibraltar</option>
       <option value="Great Britain">Great Britain</option>
       <option value="Greece">Greece</option>
       <option value="Greenland">Greenland</option>
       <option value="Grenada">Grenada</option>
       <option value="Guadeloupe">Guadeloupe</option>
       <option value="Guam">Guam</option>
       <option value="Guatemala">Guatemala</option>
       <option value="Guinea">Guinea</option>
       <option value="Guyana">Guyana</option>
       <option value="Haiti">Haiti</option>
       <option value="Hawaii">Hawaii</option>
       <option value="Honduras">Honduras</option>
       <option value="Hong Kong">Hong Kong</option>
       <option value="Hungary">Hungary</option>
       <option value="Iceland">Iceland</option>
       <option value="Indonesia">Indonesia</option>
       <option value="India">India</option>
       <option value="Iran">Iran</option>
       <option value="Iraq">Iraq</option>
       <option value="Ireland">Ireland</option>
       <option value="Isle of Man">Isle of Man</option>
       <option value="Israel">Israel</option>
       <option value="Italy">Italy</option>
       <option value="Jamaica">Jamaica</option>
       <option value="Japan">Japan</option>
       <option value="Jordan">Jordan</option>
       <option value="Kazakhstan">Kazakhstan</option>
       <option value="Kenya">Kenya</option>
       <option value="Kiribati">Kiribati</option>
       <option value="Korea North">Korea North</option>
       <option value="Korea Sout">Korea South</option>
       <option value="Kuwait">Kuwait</option>
       <option value="Kyrgyzstan">Kyrgyzstan</option>
       <option value="Laos">Laos</option>
       <option value="Latvia">Latvia</option>
       <option value="Lebanon">Lebanon</option>
       <option value="Lesotho">Lesotho</option>
       <option value="Liberia">Liberia</option>
       <option value="Libya">Libya</option>
       <option value="Liechtenstein">Liechtenstein</option>
       <option value="Lithuania">Lithuania</option>
       <option value="Luxembourg">Luxembourg</option>
       <option value="Macau">Macau</option>
       <option value="Macedonia">Macedonia</option>
       <option value="Madagascar">Madagascar</option>
       <option value="Malaysia">Malaysia</option>
       <option value="Malawi">Malawi</option>
       <option value="Maldives">Maldives</option>
       <option value="Mali">Mali</option>
       <option value="Malta">Malta</option>
       <option value="Marshall Islands">Marshall Islands</option>
       <option value="Martinique">Martinique</option>
       <option value="Mauritania">Mauritania</option>
       <option value="Mauritius">Mauritius</option>
       <option value="Mayotte">Mayotte</option>
       <option value="Mexico">Mexico</option>
       <option value="Midway Islands">Midway Islands</option>
       <option value="Moldova">Moldova</option>
       <option value="Monaco">Monaco</option>
       <option value="Mongolia">Mongolia</option>
       <option value="Montserrat">Montserrat</option>
       <option value="Morocco">Morocco</option>
       <option value="Mozambique">Mozambique</option>
       <option value="Myanmar">Myanmar</option>
       <option value="Nambia">Nambia</option>
       <option value="Nauru">Nauru</option>
       <option value="Nepal">Nepal</option>
       <option value="Netherland Antilles">Netherland Antilles</option>
       <option value="Netherlands">Netherlands (Holland, Europe)</option>
       <option value="Nevis">Nevis</option>
       <option value="New Caledonia">New Caledonia</option>
       <option value="New Zealand">New Zealand</option>
       <option value="Nicaragua">Nicaragua</option>
       <option value="Niger">Niger</option>
       <option value="Nigeria">Nigeria</option>
       <option value="Niue">Niue</option>
       <option value="Norfolk Island">Norfolk Island</option>
       <option value="Norway">Norway</option>
       <option value="Oman">Oman</option>
       <option value="Pakistan">Pakistan</option>
       <option value="Palau Island">Palau Island</option>
       <option value="Palestine">Palestine</option>
       <option value="Panama">Panama</option>
       <option value="Papua New Guinea">Papua New Guinea</option>
       <option value="Paraguay">Paraguay</option>
       <option value="Peru">Peru</option>
       <option value="Phillipines">Philippines</option>
       <option value="Pitcairn Island">Pitcairn Island</option>
       <option value="Poland">Poland</option>
       <option value="Portugal">Portugal</option>
       <option value="Puerto Rico">Puerto Rico</option>
       <option value="Qatar">Qatar</option>
       <option value="Republic of Montenegro">Republic of Montenegro</option>
       <option value="Republic of Serbia">Republic of Serbia</option>
       <option value="Reunion">Reunion</option>
       <option value="Romania">Romania</option>
       <option value="Russia">Russia</option>
       <option value="Rwanda">Rwanda</option>
       <option value="St Barthelemy">St Barthelemy</option>
       <option value="St Eustatius">St Eustatius</option>
       <option value="St Helena">St Helena</option>
       <option value="St Kitts-Nevis">St Kitts-Nevis</option>
       <option value="St Lucia">St Lucia</option>
       <option value="St Maarten">St Maarten</option>
       <option value="St Pierre & Miquelon">St Pierre & Miquelon</option>
       <option value="St Vincent & Grenadines">St Vincent & Grenadines</option>
       <option value="Saipan">Saipan</option>
       <option value="Samoa">Samoa</option>
       <option value="Samoa American">Samoa American</option>
       <option value="San Marino">San Marino</option>
       <option value="Sao Tome & Principe">Sao Tome & Principe</option>
       <option value="Saudi Arabia">Saudi Arabia</option>
       <option value="Senegal">Senegal</option>
       <option value="Seychelles">Seychelles</option>
       <option value="Sierra Leone">Sierra Leone</option>
       <option value="Singapore">Singapore</option>
       <option value="Slovakia">Slovakia</option>
       <option value="Slovenia">Slovenia</option>
       <option value="Solomon Islands">Solomon Islands</option>
       <option value="Somalia">Somalia</option>
       <option value="South Africa">South Africa</option>
       <option value="Spain">Spain</option>
       <option value="Sri Lanka">Sri Lanka</option>
       <option value="Sudan">Sudan</option>
       <option value="Suriname">Suriname</option>
       <option value="Swaziland">Swaziland</option>
       <option value="Sweden">Sweden</option>
       <option value="Switzerland">Switzerland</option>
       <option value="Syria">Syria</option>
       <option value="Tahiti">Tahiti</option>
       <option value="Taiwan">Taiwan</option>
       <option value="Tajikistan">Tajikistan</option>
       <option value="Tanzania">Tanzania</option>
       <option value="Thailand">Thailand</option>
       <option value="Togo">Togo</option>
       <option value="Tokelau">Tokelau</option>
       <option value="Tonga">Tonga</option>
       <option value="Trinidad & Tobago">Trinidad & Tobago</option>
       <option value="Tunisia">Tunisia</option>
       <option value="Turkey">Turkey</option>
       <option value="Turkmenistan">Turkmenistan</option>
       <option value="Turks & Caicos Is">Turks & Caicos Is</option>
       <option value="Tuvalu">Tuvalu</option>
       <option value="Uganda">Uganda</option>
       <option value="United Kingdom">United Kingdom</option>
       <option value="Ukraine">Ukraine</option>
       <option value="United Arab Erimates">United Arab Emirates</option>
       <option value="United States of America">United States of America</option>
       <option value="Uraguay">Uruguay</option>
       <option value="Uzbekistan">Uzbekistan</option>
       <option value="Vanuatu">Vanuatu</option>
       <option value="Vatican City State">Vatican City State</option>
       <option value="Venezuela">Venezuela</option>
       <option value="Vietnam">Vietnam</option>
       <option value="Virgin Islands (Brit)">Virgin Islands (Brit)</option>
       <option value="Virgin Islands (USA)">Virgin Islands (USA)</option>
       <option value="Wake Island">Wake Island</option>
       <option value="Wallis & Futana Is">Wallis & Futana Is</option>
       <option value="Yemen">Yemen</option>
       <option value="Zaire">Zaire</option>
       <option value="Zambia">Zambia</option>
       <option value="Zimbabwe">Zimbabwe</option>
      </select>
    </div>`;
        } else { var cfp_country = ''; }

        if (form_fields.includes("message")) { var cfp_message = `<div class="form-group cfp_desc"><textarea rows="2" cols="4"  id="cfpmessage" placeholder="Describe Your Message"  class="form-control formfield" ></textarea></div>`; } else { var cfp_message = ''; }
        if (form_fields.includes("image")) { var cfp_image = `<div class="form-group "><input type="file" placeholder="Enter File"  id="cfp_image" multiple class="form-control formfield" value=""></div>`; } else { var cfp_image = ``; }
        if (save_customer == '1') { var gdpr_message = `<div class="form-group cfp_subscribe_wrapper "><input type="checkbox" name="subscribe" id="cfp_subscribe"><span class="cfp_nwsltr">` + gdpr_msg + `</span></div>`; } else { var gdpr_message = ``; }
        if (form_fields.includes("venue")) { var venue_name = `<div class="form-group"><input type="text" placeholder="Your Venue Name" name="addtional_fields[Venue]" id="venue" class="cfp_field form-control formfield"></div>`; cfp_additional_field += venue_name; }

        var cfp_form = `
  <div id="cfpmodal" class="call-for-price-modal-wrapper">
  <div class="cfp-modal-content">
    <div class="cfp_loader"></div>
  <div class="cfp-parent-wrapper"> 
  <div class="cfp-modal-header">
  <span class="close">&times;</span><h2>`+ form_title + `</h2>
  </div>
  <div class="cfp-modal-body"><p id="cfp_product_name"></p>
  <div class="form-popup" >
  <form class="sb_cfp">
  <div class="form-group">
  <input type="text" placeholder="Your Name"  id="cfpname" class="cfp_field form-control formfield">
  </div>
  <div class="form-group">
  <input type="email" placeholder="Your Email Address"  id="cfpemail"   class="cfp_field form-control formfield">
  </div>`+ cfp_phone + `` + cfp_additional_field + `` + cfp_country + `
  <div class="cfp_variants">
  </div>
 `+ cfp_message + `` + cfp_image + `` + gdpr_message + `  
   <!--  gcaptchacode -->
    <input type="hidden" id="g-recaptcha-response" name="g-recaptcha-response">
      <input type="hidden" name="action" value="validate_captcha">
  <div class="submit-btn">
  <button type="button" class="btn btn-primary submitReq" name="add">`+ submit_btn_name + `</button>
  </div>
  </form>
  </div>
  </div> 
    </div>
  </div>
  </div>`;
        $("body").append(cfp_form_css);
        $("body").append(cfp_form);
      }
      function setCookieCFP(name, value, exdays) {
        const d = new Date();
        d.setTime(d.getTime() + (exdays * 24 * 60 * 60 * 1000));
        let expires = "; expires=" + d.toUTCString();
        document.cookie = name + "=" + value + ";" + expires + "; path=/";
      }
      function getCookieCFP(name) {
        var nameEQ = name + "=";
        var ca = document.cookie.split(';');
        for (var i = 0; i < ca.length; i++) {
          var c = ca[i];
          while (c.charAt(0) == ' ') c = c.substring(1, c.length);
          if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length, c.length);
        }
        return null;
      }
      function eraseCookieCFP(name) {
        document.cookie = name + '=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;';
      }
      //sending whatsapp msg code
      function whatsAppChatRedirection(number, md, text) {
        var number2 = number.replace(/ +/g, "");
        if (md) {
          var mob = "https://wa.me/" + number2 + "?text=" + text;
          window.open(mob, "_blank");
        } else {
          var web = "https://web.whatsapp.com/send?phone=" + number2 + "&text=" + text;
          window.open(web, "wupwindow", "toolbar=yes,scrollbars=yes,resizable=yes,top=130,left=260,width=900,height=500");
        }
      }

      // 
      function checkFreeTheme(){
        var sb_cfp_freeThemes = ['Dawn','Refresh','Craft','Sense','Studio','Crave','Origin','Ride','Taste','Spotlight','Colorblock','Publisher'];
        if(sb_cfp_freeThemes.includes(window.BOOMR.themeName)){
          return true;
        }
        return false;
      }
      
      function functionForFilter($){
        if(checkFreeTheme()){
        $('body').append(`<style>.card-information .price  {display: none;} .hidePrice{display:none}</style>`);
        // $('.price').hide();
        $('.card-information .price').addClass('hidePrice');
        
        // show button on availability filter***************
       $(document).on('click', ".js-filter, .active-facets", function(){
          setTimeout(function () { 
            myAppJavaScript_cfp($)
          }, 1300);
          
          setTimeout(function(){
            $('.price').removeClass('hidePrice');
            $('.card-information .price').show();
          },2000);
        });
        
        // Show button on price filter**********************
        $(document).on('keyup', ".field__input, .active-facets", function(){
        $('.price').hide();
        $('.card-information .price').addClass('hidePrice');
          setTimeout(function() {
            myAppJavaScript_cfp($);
          },1200);
        
          setTimeout(function(){
            $('.price').removeClass('hidePrice');
            $('.card-information .price').show();
          },2023);
        });
        
        // category wise filter*****************************
        $(document).on('change', ".facet-filters__sort", function(){
          setTimeout(function() {
            myAppJavaScript_cfp($);
          },1300); 
          
          setTimeout(function(){
            $('.price').removeClass('hidePrice');
            $('.card-information .price').show();
          },2000);
        });

       // Recommendaed Product*****************************
        if($('body').find('.related-products__heading')){
          console.log("Recommended Products");
          setTimeout(function(){
            myAppJavaScript_cfp($); 
          },1300);
          
          setTimeout(function(){
            $('.price').removeClass('hidePrice');
            $('.card-information .price').show();
          },2000);
        }

        //Remove Filter Function*****************
        
        $(document).on('click', ".active-facets, .active-facets__button-wrapper, .active-facets__button-inner", function(){
          console.log("Remove Filter");
          setTimeout(function () { 
            myAppJavaScript_cfp($)
          }, 1300);
          
          setTimeout(function(){
            $('.price').removeClass('hidePrice');
            $('.card-information .price').show();
          },2000);
        });
        }        
      }

      function hideSearchPrice($){
        $('.predictive-search__item-content .price').hide();
      }

      
      function checkPayemntCFP($) {
        var sb_payment_status_check = getCookieCFP('sb_payment_status_check_cfp');
        if (sb_payment_status_check == null) {
          $.ajax({
            url: "https://setubridgeapps.com/call-for-price/app/src/public/checkPaymentStatus",
            type: "GET",
            data: {
              shop: shop
            },
            cache: false,
            success: function (response) {
              // console.log('payment reaponse', response);
              if (response) {
                response = JSON.parse(response);
                if (response.result.status == "active") {
                  setCookieCFP('sb_payment_status_check_cfp', 'active', 1);
                  myAppJavaScript_cfp($);
                  loadEventForm($);
                  functionForFilter($)
                } else {
                  setCookieCFP('sb_payment_status_check_cfp', 'not_set', 1);
                }
              } else {
                setCookieCFP('sb_payment_status_check_cfp', 'not_set', 1);
              }
              //for Plus customer
              if (response.status == '1') {
                setCookieCFP('sb_payment_status_check_cfp', 'active', 1);
                myAppJavaScript_cfp($);
                loadEventForm($);
                functionForFilter($)
              }
            }
          });
        }
      }
    }
  }
</script>
</div>